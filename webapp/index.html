<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no" />
  <title>–õ—É–Ω–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞</title>
  <link rel="stylesheet" href="styles.css" />
  <script src="https://telegram.org/js/telegram-web-app.js"></script>
</head>
<body>

  <div class="parallax">
    <div id="moon"></div>
  </div>
  <div class="stars"></div>

  <div class="container">
    
    <div class="progress-container">
      <div class="progress-header">
        <span>–®–∞–≥ <span id="current-step">1</span> –∏–∑ 5</span>
        <div class="progress-steps">
          <div class="step-dot active"></div>
          <div class="step-dot"></div>
          <div class="step-dot"></div>
          <div class="step-dot"></div>
          <div class="step-dot"></div>
        </div>
      </div>
      <div class="progress-bar">
        <div class="progress-fill" style="width: 20%"></div>
      </div>
    </div>

    <header>
      <h1>üåô –õ—É–Ω–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞</h1>
      <p class="subtitle">–í–æ–∏–Ω –≤ –º–∞—Ç—Ä–æ—Å–∫–µ –≤—Å–µ–≥–¥–∞ –ø–æ–º–æ–∂–µ—Ç!</p>
    </header>

    <main>
      <section id="step-name" class="card active">
        <h2>–ö–∞–∫ —Ç–µ–±—è –∑–æ–≤—É—Ç?</h2>
        <input id="input-name" placeholder="–í–≤–µ–¥–∏ –∏–º—è" maxlength="50" autocomplete="off" />
        <div class="row">
          <button id="btn-name-next" class="btn">–î–∞–ª—å—à–µ ‚Üí</button>
        </div>
      </section>

      <section id="step-type" class="card">
        <h2>–í—ã–±–µ—Ä–∏ —Ç–∏–ø –æ—Ç–≤–µ—Ç–∞</h2>
        <div class="answer-type-options">
          <div class="type-option selected" data-type="single">
            <div class="type-icon">üë§</div>
            <div class="type-content">
              <h3>–°–æ–≤–µ—Ç –æ—Ç –æ–¥–Ω–æ–≥–æ</h3>
              <p>–õ–∏—á–Ω—ã–π —Ä–∞–∑–≥–æ–≤–æ—Ä —Å –≤–æ–∏–Ω–æ–º</p>
            </div>
          </div>
          <div class="type-option" data-type="group">
            <div class="type-icon">üë•</div>
            <div class="type-content">
              <h3>–°–æ–≤–µ—Ç –æ—Ç –∫–æ–º–∞–Ω–¥—ã</h3>
              <p>–ß–∞—Ç —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ –≥–µ—Ä–æ—è–º–∏</p>
            </div>
          </div>
        </div>
        <div class="row">
          <button id="btn-type-back" class="btn outline">‚Üê –ù–∞–∑–∞–¥</button>
          <button id="btn-type-next" class="btn">–î–∞–ª—å—à–µ ‚Üí</button>
        </div>
      </section>

      <section id="step-character" class="card">
        <h2 id="character-title">–í—ã–±–µ—Ä–∏ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞</h2>
        <div id="characters" class="cards-grid"></div>
        <div class="row">
          <button id="btn-char-back" class="btn outline">‚Üê –ù–∞–∑–∞–¥</button>
          <button id="btn-char-next" class="btn">–î–∞–ª—å—à–µ ‚Üí</button>
        </div>
      </section>

      <section id="step-form" class="card">
        <h2>–í—ã–±–µ—Ä–∏ —Ñ–æ—Ä–º—É</h2>
        <div id="form-options" class="cards-grid"></div>
        <div class="row">
          <button id="btn-form-back" class="btn outline">‚Üê –ù–∞–∑–∞–¥</button>
          <button id="btn-form-next" class="btn">–î–∞–ª—å—à–µ ‚Üí</button>
        </div>
      </section>

      <section id="step-problem" class="card">
        <h2>–ß—Ç–æ —Ç–µ–±—è –±–µ—Å–ø–æ–∫–æ–∏—Ç?</h2>
        <textarea id="input-problem" rows="5" placeholder="–†–∞—Å—Å–∫–∞–∂–∏ –º–Ω–µ..."></textarea>
        <div class="row">
          <button id="btn-problem-back" class="btn outline">‚Üê –ù–∞–∑–∞–¥</button>
          <button id="btn-problem-send" class="btn primary">–ü–æ–ª—É—á–∏—Ç—å —Å–æ–≤–µ—Ç ‚ú®</button>
        </div>
      </section>

      <section id="step-result" class="card">
        <h2 id="chat-header">–î–∏–∞–ª–æ–≥</h2>
        
        <div id="chat-container" class="chat-container">
          </div>
        
        <div id="loading" class="loading hidden">
          <div class="moon-loader">üåô</div>
          <div class="loading-text">–õ—É–Ω–∞ –ø–µ—á–∞—Ç–∞–µ—Ç...</div>
        </div>

        <div class="chat-input-area hidden" id="chat-controls">
          <input type="text" id="chat-input" placeholder="–û—Ç–≤–µ—Ç–∏—Ç—å..." autocomplete="off">
          <button id="btn-chat-send" class="btn-icon">‚û§</button>
        </div>

        <div class="row" style="margin-top: 15px;">
          <button id="btn-result-again" class="btn outline">–ù–∞—á–∞—Ç—å –∑–∞–Ω–æ–≤–æ</button>
          <button id="btn-result-close" class="btn">–í—ã—Ö–æ–¥</button>
        </div>
      </section>
    </main>

    <footer>
      <small>–õ—É–Ω–Ω–∞—è –º–∞–≥–∏—è —Å —Ç–æ–±–æ–π üåô‚ú®</small>
    </footer>

    <div class="control-buttons">
      <button id="music-toggle" class="control-btn" title="–ú—É–∑—ã–∫–∞">üîá</button>
    </div>
    
    <audio id="bg-music" loop><source src="./music/moonlight.mp3" type="audio/mpeg"></audio>
    <audio id="click-sound" preload="auto"><source src="./music/click.mp3"></audio>
    <audio id="magic-sound" preload="auto"><source src="./music/magic.mp3"></audio>
    <audio id="select-sound" preload="auto"><source src="./music/select.mp3"></audio>
  </div>

  <script src="app.js"></script>
</body>
</html>
